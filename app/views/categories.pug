doctype html
html
  head
    title Categories | Expenses Tracker
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css", integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH", crossorigin="anonymous")
    style.
      body { background: #f0f2f5; }
      .card { border: none; box-shadow: 0 4px 14px rgba(0,0,0,0.06); }
      .pill { display:inline-flex; align-items:center; gap:8px; padding:6px 12px; border-radius:999px; background:#eef2f7; font-weight:600; }
      .swatch { width:16px; height:16px; border-radius:50%; border:1px solid #d0d7de; display:inline-block; }
      .app-navbar { background: linear-gradient(90deg, #0f172a, #0f766e); box-shadow: 0 8px 20px rgba(0,0,0,0.12); padding: 12px 0; border:none; }
      .app-nav-inner { max-width: 1200px; margin: 0 auto; width: 94%; display: flex; align-items: center; gap: 16px; }
      .app-navbar .navbar-brand { color: #f8fafc; letter-spacing: 0.02em; }
      .app-navbar .nav-link { color: rgba(248, 250, 252, 0.88) !important; font-weight: 600; }
      .app-navbar .nav-link:hover { color: #fff !important; }
      .navbar-toggler { border-color: rgba(255,255,255,0.4); }
      .navbar-toggler-icon { filter: invert(1); }
      .btn-logout { background: rgba(255,255,255,0.14); border-color: rgba(255,255,255,0.22); color: #fff; }
      .btn-logout:hover { background: rgba(255,255,255,0.22); color: #fff; }
  body
    include navbar
    .container.mt-4
      h1.mb-3 Categories
      .row.g-3
        .col-12.col-lg-7
          .card.p-3
            h4.mb-3 Your categories
            if categories && categories.length
              table.table.table-hover.align-middle.mb-0
                thead
                  tr
                    th Name
                    th Created
                    th Actions
                tbody
                  each category in categories
                    tr
                      td
                        form.d-flex.gap-2.align-items-center(method="POST", action=`/categories/${category.id}`)
                          input.form-control.form-control-sm(type="text", name="name", required value=category.name)
                          button.btn.btn-sm.btn-primary(type="submit") Update
                      td= category.created_at
                      td
                        form(method="POST", action=`/categories/${category.id}/delete`, onsubmit="return confirm('Delete this category? Expenses will become uncategorized.');")
                          button.btn.btn-sm.btn-outline-danger(type="submit") Delete
            else
              p.text-muted.mb-0 No categories yet. Create your first one.
        .col-12.col-lg-5
          .card.p-3
            h4.mb-3 Create category
            form(method="POST" action="/categories" class="row g-3")
              .col-12
                label.form-label(for="name") Name
                input#name.form-control(type="text" name="name" required placeholder="e.g. Groceries")
              .col-12
                button.btn.btn-primary(type="submit") Create
